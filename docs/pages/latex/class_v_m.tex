\hypertarget{class_v_m}{}\section{VM Class Reference}
\label{class_v_m}\index{VM@{VM}}


A small virtual machine to run generated bytecode.  




{\ttfamily \#include $<$V\+M.\+h$>$}

\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\Hypertarget{class_v_m_a3502d27cf6a670f277221e8e6ac8b869}\label{class_v_m_a3502d27cf6a670f277221e8e6ac8b869}} 
\hyperlink{class_v_m_a3502d27cf6a670f277221e8e6ac8b869}{VM} ()
\begin{DoxyCompactList}\small\item\em Default compiler. \end{DoxyCompactList}\item 
\hyperlink{_v_m_8h_ae6d9431ba75ad63e3dc378957e0aad8f}{Interpret\+Results} \hyperlink{class_v_m_abc9d74981061a1ce81a0926d50bde682}{Interpret} (const std\+::string $\ast$source)
\begin{DoxyCompactList}\small\item\em Interprets source code and runs it. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Private Member Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{_v_m_8h_ae6d9431ba75ad63e3dc378957e0aad8f}{Interpret\+Results} \hyperlink{class_v_m_ab7aa12a22363351fcf724a7a4b2a3d56}{run} ()
\begin{DoxyCompactList}\small\item\em Runs the bytecode from m\+\_\+\+Chunk. \end{DoxyCompactList}\item 
void \hyperlink{class_v_m_a80a5bb010fca8e1fc5e1108195fec425}{push} (\hyperlink{class_value}{Value} value)
\begin{DoxyCompactList}\small\item\em Pushes a \hyperlink{class_value}{Value} onto the top of m\+\_\+\+Stack. \end{DoxyCompactList}\item 
\hyperlink{class_value}{Value} \hyperlink{class_v_m_af5f97f93ca522dd02dbaba309fd1706c}{pop} ()
\begin{DoxyCompactList}\small\item\em Pops the \hyperlink{class_value}{Value} off the top of m\+\_\+\+Stack and sets it to be overwritten on the next push. \end{DoxyCompactList}\item 
\hyperlink{class_value}{Value} \hyperlink{class_v_m_aeebabdb7830a04e3cd54f33a8f8a8b14}{peek} (int distance) const
\begin{DoxyCompactList}\small\item\em Checks a \hyperlink{class_value}{Value} in the stack without removing it. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Private Attributes}
\begin{DoxyCompactItemize}
\item 
\mbox{\Hypertarget{class_v_m_afd6bec213abad1ab68fe0d0843a7c8df}\label{class_v_m_afd6bec213abad1ab68fe0d0843a7c8df}} 
std\+::shared\+\_\+ptr$<$ \hyperlink{class_chunk}{Chunk} $>$ \hyperlink{class_v_m_afd6bec213abad1ab68fe0d0843a7c8df}{m\+\_\+\+Chunk}
\begin{DoxyCompactList}\small\item\em Current \hyperlink{class_chunk}{Chunk} of bytecode being interpreted. Shared with \hyperlink{class_compiler}{Compiler} to generate bytecode. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{class_v_m_a803778e52118446bbd0feda7d46b57a2}\label{class_v_m_a803778e52118446bbd0feda7d46b57a2}} 
Byte $\ast$ \hyperlink{class_v_m_a803778e52118446bbd0feda7d46b57a2}{m\+\_\+\+IP}
\begin{DoxyCompactList}\small\item\em Instruction Pointer. Pointer to current instruction the \hyperlink{class_v_m}{VM} is running from the \hyperlink{class_chunk}{Chunk}. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{class_v_m_a12c199afd5cf2edd7246085d032b9cf6}\label{class_v_m_a12c199afd5cf2edd7246085d032b9cf6}} 
\hyperlink{class_value}{Value} \hyperlink{class_v_m_a12c199afd5cf2edd7246085d032b9cf6}{m\+\_\+\+Stack} \mbox{[}\hyperlink{_v_m_8h_a27b296fccb4da1e9cfcf1f9c810e619e}{S\+T\+A\+C\+K\+\_\+\+M\+AX}\mbox{]}
\begin{DoxyCompactList}\small\item\em A statck of Values. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{class_v_m_ad587fad93ffbdabd57d468b306fc74e7}\label{class_v_m_ad587fad93ffbdabd57d468b306fc74e7}} 
\hyperlink{class_value}{Value} $\ast$ \hyperlink{class_v_m_ad587fad93ffbdabd57d468b306fc74e7}{m\+\_\+\+Stack\+Top}
\begin{DoxyCompactList}\small\item\em A pointer to where in m\+\_\+\+Stack the next \hyperlink{class_value}{Value} will be written to. \end{DoxyCompactList}\end{DoxyCompactItemize}


\subsection{Detailed Description}
A small virtual machine to run generated bytecode. 

The \hyperlink{class_v_m}{VM} takes the source code and hands it off to the \hyperlink{class_compiler}{Compiler} to be converted to bytecode. When the \hyperlink{class_compiler}{Compiler} is finished, the \hyperlink{class_v_m}{VM} then reads through the bytecode \hyperlink{class_chunk}{Chunk} and executes the commands instructed by the program source code. 

\subsection{Member Function Documentation}
\mbox{\Hypertarget{class_v_m_abc9d74981061a1ce81a0926d50bde682}\label{class_v_m_abc9d74981061a1ce81a0926d50bde682}} 
\index{VM@{VM}!Interpret@{Interpret}}
\index{Interpret@{Interpret}!VM@{VM}}
\subsubsection{\texorpdfstring{Interpret()}{Interpret()}}
{\footnotesize\ttfamily \hyperlink{_v_m_8h_ae6d9431ba75ad63e3dc378957e0aad8f}{Interpret\+Results} V\+M\+::\+Interpret (\begin{DoxyParamCaption}\item[{const std\+::string $\ast$}]{source }\end{DoxyParamCaption})}



Interprets source code and runs it. 

Takes in a string of source code, creates a \hyperlink{class_compiler}{Compiler}, and let\textquotesingle{}s it compile the source coude into a bytecode \hyperlink{class_chunk}{Chunk}, then runs the bytecode and processes it. 
\begin{DoxyParams}{Parameters}
{\em source} & A string of source code to be compiled and interpreted. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Interpret\+Results representation of compiling and interpreting the source code.
\begin{DoxyItemize}
\item \hyperlink{_v_m_8h_ae6d9431ba75ad63e3dc378957e0aad8fae0aa021e21dddbd6d8cecec71e9cf564}{Interpret\+Results\+::\+OK} if there were no errors.
\item \hyperlink{_v_m_8h_ae6d9431ba75ad63e3dc378957e0aad8fa8512184f958cde80eef601c0c9e27f08}{Interpret\+Results\+::\+Compile\+Error} if there was an error in the compiling phase.
\item \hyperlink{_v_m_8h_ae6d9431ba75ad63e3dc378957e0aad8faa334b8fdd25f8fb3e632228494604ee1}{Interpret\+Results\+::\+Runtime\+Error} if there was an error in the running phase. 
\end{DoxyItemize}
\end{DoxyReturn}
\mbox{\Hypertarget{class_v_m_aeebabdb7830a04e3cd54f33a8f8a8b14}\label{class_v_m_aeebabdb7830a04e3cd54f33a8f8a8b14}} 
\index{VM@{VM}!peek@{peek}}
\index{peek@{peek}!VM@{VM}}
\subsubsection{\texorpdfstring{peek()}{peek()}}
{\footnotesize\ttfamily \hyperlink{class_value}{Value} V\+M\+::peek (\begin{DoxyParamCaption}\item[{int}]{distance }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [private]}}



Checks a \hyperlink{class_value}{Value} in the stack without removing it. 


\begin{DoxyParams}{Parameters}
{\em distance} & Distance from the top of the stack. 0 is the current stack top. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
The value located at (m\+\_\+\+Stacktop -\/ distance) index in m\+\_\+\+Stack. 
\end{DoxyReturn}
\mbox{\Hypertarget{class_v_m_af5f97f93ca522dd02dbaba309fd1706c}\label{class_v_m_af5f97f93ca522dd02dbaba309fd1706c}} 
\index{VM@{VM}!pop@{pop}}
\index{pop@{pop}!VM@{VM}}
\subsubsection{\texorpdfstring{pop()}{pop()}}
{\footnotesize\ttfamily \hyperlink{class_value}{Value} V\+M\+::pop (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}



Pops the \hyperlink{class_value}{Value} off the top of m\+\_\+\+Stack and sets it to be overwritten on the next push. 

\begin{DoxyReturn}{Returns}
\hyperlink{class_value}{Value} from the top of the stack. 
\end{DoxyReturn}
\mbox{\Hypertarget{class_v_m_a80a5bb010fca8e1fc5e1108195fec425}\label{class_v_m_a80a5bb010fca8e1fc5e1108195fec425}} 
\index{VM@{VM}!push@{push}}
\index{push@{push}!VM@{VM}}
\subsubsection{\texorpdfstring{push()}{push()}}
{\footnotesize\ttfamily void V\+M\+::push (\begin{DoxyParamCaption}\item[{\hyperlink{class_value}{Value}}]{value }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}



Pushes a \hyperlink{class_value}{Value} onto the top of m\+\_\+\+Stack. 


\begin{DoxyParams}{Parameters}
{\em value} & \hyperlink{class_value}{Value} to be written to m\+\_\+\+Stack \\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{class_v_m_ab7aa12a22363351fcf724a7a4b2a3d56}\label{class_v_m_ab7aa12a22363351fcf724a7a4b2a3d56}} 
\index{VM@{VM}!run@{run}}
\index{run@{run}!VM@{VM}}
\subsubsection{\texorpdfstring{run()}{run()}}
{\footnotesize\ttfamily \hyperlink{_v_m_8h_ae6d9431ba75ad63e3dc378957e0aad8f}{Interpret\+Results} V\+M\+::run (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}



Runs the bytecode from m\+\_\+\+Chunk. 

\begin{DoxyReturn}{Returns}

\begin{DoxyItemize}
\item \hyperlink{_v_m_8h_ae6d9431ba75ad63e3dc378957e0aad8fae0aa021e21dddbd6d8cecec71e9cf564}{Interpret\+Results\+::\+OK} if there were no errors.
\item \hyperlink{_v_m_8h_ae6d9431ba75ad63e3dc378957e0aad8faa334b8fdd25f8fb3e632228494604ee1}{Interpret\+Results\+::\+Runtime\+Error} if an error was encountered. 
\end{DoxyItemize}
\end{DoxyReturn}


The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
\hyperlink{_v_m_8h}{V\+M.\+h}\item 
V\+M.\+cpp\end{DoxyCompactItemize}
